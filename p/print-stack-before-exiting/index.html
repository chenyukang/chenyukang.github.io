<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="All about coding and writing">
  <meta name="keyword" content="Programming, Programming Languages, Algorithms, Tools">
  <meta property="og:site_name" content="CatCoding">
  <meta property="og:title" content="è·å–æŒ‚æ‰ç¨‹åºçš„æ ˆä¿¡æ¯ | CatCoding" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="" />
  <meta property="og:description" content="" />
  <meta property="og:image" content=" http://catcoding.me/css/images/logo.png " />
  <link rel="alternate" type="application/rss+xml" title="CatCoding; Feed" href="https://catcoding.me/atom.xml" />

  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/fonts.css">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/code.css">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/prism.css">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/font-awesome.min.css">
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/geopattern.min.js"></script>
<script src="/js/nprogress.min.js"></script>

  
  <link rel="icon" href="/css/images/favicon.ico">
  
  <title>
    
    è·å–æŒ‚æ‰ç¨‹åºçš„æ ˆä¿¡æ¯ |
    CatCoding
    
  </title>

  <div style='margin:0 auto;width:0px;height:0px;overflow:hidden;'>
    <img src="/css/images/logo.png" width='400px' height='400px' />
  </div>

  

<script defer src="https://cloud.umami.is/script.js" data-website-id="9767b9c8-6554-4673-af8c-2d22e00617aa"></script>
</head>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>CatCoding</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/ideas/" class="item-link">Ideas</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/links/" class="item-link">Links</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      

        <li class="list-item" style="margin: 0">
       <a class="icon-small" href="/search">
        <span class="fa-stack fa-lg">
          <i class="fa fa-search fa-stack-1x fa-inverse" style="color:#8ccb8c"></i>
        </span>
       </a>
      </li>

       <li class="list-item" style="margin-left: 3px">
        <a class="icon-small" href="/atom.xml">
         <span class="fa-stack fa-lg">
           <i class="fa fa-rss fa-inverse" style="color:orange"></i>
         </span>
        </a>
       </li>
    </ul>
    
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/ideas/" class="menu-link">Ideas</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/links/" class="menu-link">Links</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    
<div id="article-banner">
  <h2>è·å–æŒ‚æ‰ç¨‹åºçš„æ ˆä¿¡æ¯</h2>
  <p class="post-date">2013-01-04</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>

<main class="app-body flex-box" style="max-width: 850px" >


  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><p>åœ¨ç¨‹åºæŒ‚æ‰çš„æ—¶å€™æœ€å¥½è¿˜æ˜¯ç•™ç‚¹æœ‰ç”¨çš„é—è¨€ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒéš¾é‡ç°çš„ Bugï¼Œä¹Ÿè®¸è¿™äº›ä¿¡æ¯ä¼šæˆä¸ºè§£å†³é—®é¢˜çš„å…³é”®ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªæŠ€å·§å¯ä»¥è®©ç¨‹æŒ‚æ‰çš„æ—¶å€™æ‰“å°å‡ºæ¥æ ˆä¿¡æ¯ã€‚è¿™ä¸ªåŠæ³•æ¥è‡ª<a target="_blank" rel="noopener" href="http://neugierig.org/software/blog/2012/06/backtraces.html">è¿™é‡Œ</a>, æˆ‘è§‰å¾—æŠŠ SIGABRTã€SIGBUS ä¿¡å·åŠ è¿›å»ä¹ŸæŒºå¥½çš„ï¼Œåœ¨æ­¤åšäº†ç‚¹ä¿®æ”¹ã€‚æ›¾ç»å°ä¹Ÿè¯•è¿‡ glibc çš„ backtrace å‡½æ•°ï¼Œï¼Œä½†æ˜¯ç»™çš„ä¿¡æ¯ä¸å…¨ (æ²¡æœ‰è¡Œå·)ï¼Œå¯¹æ­¤åšå¾—æœ€å¥½çš„è¿˜æ˜¯ gdbã€‚åœ¨ç»ˆç«¯å¯ä»¥ç”¨ gdb è·å–æŸä¸ªè¿›ç¨‹çš„å½“å‰æ ˆï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shell bash">    <span class="token function-call shell"><span class="token variable function shell">$</span></span><span class="token function-call arguments shell"> gdb<span class="token variable parameter option shell"><span class="token punctuation definition parameter shell"> -</span>p</span> 5595<span class="token variable parameter option shell"><span class="token punctuation definition parameter shell"> -</span>batch</span><span class="token variable parameter option shell"><span class="token punctuation definition parameter shell"> -</span>ex</span> bt</span>
    <span class="token function-call shell"><span class="token variable function shell">0xb7fb4410</span></span><span class="token function-call arguments shell"> in __kernel_vsyscall (</span><span class="token function-call shell"></span><span class="token post-cmd shell">)</span>
    <span class="token comment number-sign shell"><span class="token punctuation definition comment begin shell">#</span></span><span class="token comment number-sign shell">0  0xb7fb4410 in __kernel_vsyscall ()</span><span class="token comment number-sign shell">
</span>    <span class="token comment number-sign shell"><span class="token punctuation definition comment begin shell">#</span></span><span class="token comment number-sign shell">1  0xb7dc2d50 in nanosleep () from /lib/tls/i686/cmov/libc.so.6</span><span class="token comment number-sign shell">
</span>    <span class="token comment number-sign shell"><span class="token punctuation definition comment begin shell">#</span></span><span class="token comment number-sign shell">2  0xb7dc2b87 in sleep () from /lib/tls/i686/cmov/libc.so.6</span><span class="token comment number-sign shell">
</span>    <span class="token comment number-sign shell"><span class="token punctuation definition comment begin shell">#</span></span><span class="token comment number-sign shell">3  0x0804874f in main () at print_stack.cc:64</span><span class="token comment number-sign shell">
</span></span></code></pre>
<p>é‚£ä¹ˆä¸€ä¸ªå¥½çš„åŠæ³•å°±æ˜¯åœ¨ç¨‹åºå¼€å§‹çš„æ—¶å€™è®¾ç½®å¥½ä¿¡å·ï¼Œç»‘å®š SIGSEGV å’Œ SIGABRT åˆ° DumpBackTrace() å‡½æ•°ï¼ŒDumpBackTrace å‡½æ•° fork å‡ºæ¥ä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œè¿è¡Œä¸Šé¢çš„å‘½ä»¤æ¥è·å–è°ƒç”¨æ ˆã€‚</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token c++"><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>stdlib.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>signal.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>stdio.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>sys/types.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>sys/wait.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>unistd.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span><span class="token preprocessor include c++"><span class="token keyword import include c++">#include</span> <span class="token string other lt-gt include c++"><span class="token punctuation definition string begin c++">&lt;</span>assert.h<span class="token punctuation definition string end c++">&gt;</span></span>
</span>
<span class="token keyword c">void</span> <span class="token function c++"><span class="token function c++">DumpBacktrace</span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function parameters c++"><span class="token group c++"><span class="token variable parameter c++">int</span><span class="token punctuation section group end c++">)</span></span></span><span class="token function c++"> </span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block begin c++">{</span></span></span><span class="token function c++"><span class="token block c++">
    <span class="token class-name sys-types c">pid_t</span> dying_pid <span class="token operator assignment c">=</span> <span class="token function-call c++"><span class="token variable function c++">getpid</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token class-name sys-types c">pid_t</span> child_pid <span class="token operator assignment c">=</span> <span class="token function-call c++"><span class="token variable function c++">fork</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token keyword c++">if</span> <span class="token group c++"><span class="token punctuation section group begin c++">(</span>child_pid <span class="token operator comparison c">&lt;</span> <span class="token number c++">0</span><span class="token punctuation section group end c++">)</span></span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span>
        <span class="token function-call c++"><span class="token function C99 c">perror</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>fork() while collecting backtrace:<span class="token punctuation definition string end c">&quot;</span></span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token punctuation section block end c++">}</span></span> <span class="token keyword c++">else</span> <span class="token keyword c++">if</span> <span class="token group c++"><span class="token punctuation section group begin c++">(</span>child_pid <span class="token operator comparison c">==</span> <span class="token number c++">0</span><span class="token punctuation section group end c++">)</span></span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span>
        <span class="token keyword c">char</span> buf<span class="token brackets c++"><span class="token punctuation section brackets begin c++">[</span><span class="token number c++">1024</span><span class="token punctuation section brackets end c++">]</span></span><span class="token punctuation terminator c++">;</span>
        <span class="token function-call c++"><span class="token function C99 c">sprintf</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++">buf<span class="token punctuation separator c++">,</span> <span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>gdb -p <span class="token constant placeholder c">%d</span> -batch -ex bt 2&gt;/dev/null | <span class="token punctuation definition string end c">&quot;</span></span>
                <span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>sed &#39;0,/&lt;signal handler/d&#39;<span class="token punctuation definition string end c">&quot;</span></span><span class="token punctuation separator c++">,</span> dying_pid</span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
        <span class="token keyword c++">const</span> <span class="token keyword c">char</span><span class="token operator c">*</span> argv<span class="token brackets c++"><span class="token punctuation section brackets begin c++">[</span><span class="token punctuation section brackets end c++">]</span></span> <span class="token operator assignment c">=</span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span><span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>sh<span class="token punctuation definition string end c">&quot;</span></span><span class="token punctuation separator c++">,</span> <span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>-c<span class="token punctuation definition string end c">&quot;</span></span><span class="token punctuation separator c++">,</span> buf<span class="token punctuation separator c++">,</span> <span class="token boolean c">NULL</span><span class="token punctuation section block end c++">}</span></span><span class="token punctuation terminator c++">;</span>
        <span class="token function-call c++"><span class="token variable function c++">execve</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>/bin/sh<span class="token punctuation definition string end c">&quot;</span></span><span class="token punctuation separator c++">,</span> <span class="token group c++"><span class="token punctuation section group begin c++">(</span><span class="token keyword c">char</span><span class="token operator c">*</span><span class="token operator c">*</span><span class="token punctuation section group end c++">)</span></span>argv<span class="token punctuation separator c++">,</span> <span class="token boolean c">NULL</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
        <span class="token function-call c++"><span class="token variable function c++">_exit</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token number c++">1</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token punctuation section block end c++">}</span></span> <span class="token keyword c++">else</span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span>
        <span class="token function-call c++"><span class="token variable function c++">waitpid</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++">child_pid<span class="token punctuation separator c++">,</span> <span class="token boolean c">NULL</span><span class="token punctuation separator c++">,</span> <span class="token number c++">0</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token punctuation section block end c++">}</span></span>
    <span class="token function-call c++"><span class="token variable function c++">_exit</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token number c++">1</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
</span></span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block end c++">}</span></span></span>

<span class="token keyword c">void</span> <span class="token function c++"><span class="token function c++">BacktraceOnSegv</span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token function c++"> </span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block begin c++">{</span></span></span><span class="token function c++"><span class="token block c++">
    <span class="token keyword c++">struct</span> sigaction action <span class="token operator assignment c">=</span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span><span class="token punctuation section block end c++">}</span></span><span class="token punctuation terminator c++">;</span>
    action<span class="token punctuation accessor dot c++">.</span><span class="token variable other readwrite member c++">sa_handler</span> <span class="token operator assignment c">=</span> DumpBacktrace<span class="token punctuation terminator c++">;</span>
    <span class="token keyword c++">if</span> <span class="token group c++"><span class="token punctuation section group begin c++">(</span><span class="token function-call c++"><span class="token variable function c++">sigaction</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++">SIGSEGV<span class="token punctuation separator c++">,</span> <span class="token operator c">&amp;</span>action<span class="token punctuation separator c++">,</span> <span class="token boolean c">NULL</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span> <span class="token operator comparison c">&lt;</span> <span class="token number c++">0</span><span class="token punctuation section group end c++">)</span></span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span>
        <span class="token function-call c++"><span class="token function C99 c">perror</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>sigaction(SEGV)<span class="token punctuation definition string end c">&quot;</span></span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token punctuation section block end c++">}</span></span>
    <span class="token keyword c++">if</span> <span class="token group c++"><span class="token punctuation section group begin c++">(</span><span class="token function-call c++"><span class="token variable function c++">sigaction</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++">SIGABRT<span class="token punctuation separator c++">,</span> <span class="token operator c">&amp;</span>action<span class="token punctuation separator c++">,</span> <span class="token boolean c">NULL</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span> <span class="token operator comparison c">&lt;</span> <span class="token number c++">0</span><span class="token punctuation section group end c++">)</span></span> <span class="token block c++"><span class="token punctuation section block begin c++">{</span>
        <span class="token function-call c++"><span class="token function C99 c">perror</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token string double c"><span class="token punctuation definition string begin c">&quot;</span>sigaction(SEGV)<span class="token punctuation definition string end c">&quot;</span></span></span></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token punctuation section block end c++">}</span></span>
</span></span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block end c++">}</span></span></span>

<span class="token keyword c">void</span> <span class="token function c++"><span class="token function c++">test</span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token function c++"> </span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block begin c++">{</span></span></span><span class="token function c++"><span class="token block c++">
    <span class="token comment double-slash c"><span class="token punctuation definition comment c">//</span>assert(0);
</span>    <span class="token keyword c">int</span><span class="token operator c">*</span> p <span class="token operator assignment c">=</span> <span class="token number c++">0</span><span class="token punctuation terminator c++">;</span>
    <span class="token operator c">*</span>p <span class="token operator assignment c">=</span> <span class="token number c++">0</span><span class="token punctuation terminator c++">;</span>
</span></span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block end c++">}</span></span></span>

<span class="token keyword c">int</span> <span class="token function c++"><span class="token function c++">main</span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function parameters c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token function c++"> </span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block begin c++">{</span></span></span><span class="token function c++"><span class="token block c++">
    <span class="token function-call c++"><span class="token variable function c++">BacktraceOnSegv</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
    <span class="token function-call c++"><span class="token variable function c++">test</span><span class="token group c++"><span class="token punctuation section group begin c++">(</span></span></span><span class="token function-call c++"></span><span class="token function-call c++"><span class="token group c++"><span class="token punctuation section group end c++">)</span></span></span><span class="token punctuation terminator c++">;</span>
</span></span><span class="token function c++"><span class="token block c++"><span class="token punctuation section block end c++">}</span></span></span>
</span></code></pre>
<p>å¦å¤–å‰æ®µæ—¶é—´çœ‹åˆ°è¿™ç¯‡æ–‡ç« <a target="_blank" rel="noopener" href="http://www.runswift.ly/solving-bugs.html">Solving vs. Fixing</a>å†™å¾—ä¸é”™ï¼Œåœ¨é¢å¯¹ä¸€ä¸ª bug çš„æ—¶å€™ï¼Œå…ˆä¸è¦æ€¥äºç«‹é©¬ä¸Š gdb è°ƒè¯•ï¼Œæ ¹æ®ç°æœ‰çš„ä¿¡æ¯å¥½å¥½æ€è€ƒä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªæƒ…å†µã€‚
Reddit ä¸Šçš„ä¸€ä¸ªå¾—åˆ†æœ€é«˜çš„å›å¤ï¼š</p>
<pre class="line-numbers language-plain" data-language="plain"><code class="language-plain">     The ability to reason about code is probably the most important skill. 
     But it is sadly rare, and doesn&#39;t seem to be taught much, if at all.
     Some things are simple, others take some more thought:

     * Under what conditions will this branch get taken?
     * What could cause this API to fail?
     * Are all these parameters even valid?
     * What sequence of events could lead to this situation?
     * What assumptions does this code make?
     * What side-effects does this code have?
     * What contract is this code making (or breaking)?
     
     The most talented engineer I know, when presented with a bug, does nothing but 
     read the code and think about the code and how it could fail. 
     Most of the time,  he just figures it out in his head and fixes it. 
     Sometimes he will insert some strategic printfs and narrow it down like that. 
     I don&#39;t think I have ever seen him use a debugger, 
     even on the most complex of problems.
</code></pre></section>

    <p></p>

  
    <!-- äºŒç»´ç  START -->
    
        <div class="qrcode">
            <img src="/images/wechat-qr-code.jpg" height="160" width="160">
            <figcaption>å…¬å·åŒæ­¥æ›´æ–°ï¼Œæ¬¢è¿å…³æ³¨ğŸ‘»</figcaption>
      </div>
    

    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        

  <a href="/tags#C/C++" >
    <span class="tag-code">C/C++</span>
  </a>

  <a href="/tags#Programming" >
    <span class="tag-code">Programming</span>
  </a>



      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/p/browser-objs-in-ruby/">
        <span class="nav-arrow">â† </span>
        
          Browser objs and class hiâ€¦
        
      </a>
    
    
      <a class="nav-right" href="/p/poj-500/">
        
          è¿Ÿåˆ°çš„ POJ 500
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>


    <!-- NAV END -->

    <!-- äºŒç»´ç  END -->
    
      <!-- No Comment -->
    

    <script src="https://utteranc.es/client.js"
      repo="chenyukang/chenyukang.github.io"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>
  

  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://catcoding.me//p/print-stack-before-exiting/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW * 3 / 4}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>

    <footer class="app-footer" id="footer">
    <p class="copyright">
        &copy;
        2026 | Proudly powered by <a href="https://github.com/chenyukang/hexo-rs" target="_blank">hexo-rs</a> with <a href="https://github.com/yanm1ng/hexo-theme-vexo">Vexo</a>
    </p>
</footer>

<script>
    function async(u, c) {
        var d = document,
            t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) {
            o.addEventListener('load', function(e) {
                c(null, e);
            }, false);
        }
        s.parentNode.insertBefore(o, s);
    }
</script>
<script>
    async("//catcoding.me/js/fastclick.min.js", function() {
        FastClick.attach(document.body);
    })
</script>

<script src="/js/script.js"></script>

  </body>
</html>
