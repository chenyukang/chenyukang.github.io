<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="All about coding and writing">
  <meta name="keyword" content="Programming, Programming Languages, Algorithms, Tools">
  <link rel="alternate" type="application/rss+xml" title="ç¨‹åºå‘˜çš„å–µ; Feed" href="https://catcoding.me/atom.xml" />
  
    <link rel="shortcut icon" href="/css/images/favicon.ico">
  
  <title>
      
          Have a try on Ninja | ç¨‹åºå‘˜çš„å–µ
      
  </title>
  
  
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">

  
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/fonts.css">

  
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/code.css">

  
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/font-awesome.min.css">


    
<script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
<script src="/js/highlight.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/geopattern.min.js"></script>
<script src="/js/nprogress.min.js"></script>


  <div style='margin:0 auto;width:0px;height:0px;overflow:hidden;'>
      <img src="/css/images/logo.png" width='400px' height='400px'/>
  </div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-77282254-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-77282254-1');
</script>

<meta name="generator" content="Hexo 5.4.1"></head>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>ç¨‹åºå‘˜çš„å–µ</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      

       <li class="list-item" style="margin-left: 3px">
        <a class="icon-small" href="/atom.xml">
         <span class="fa-stack fa-lg">
           <i class="fa fa-rss fa-inverse" style="color:orange"></i>
         </span>
        </a>
       </li>
    </ul>

    
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>Have a try on Ninja</h2>
  <p class="post-date">2012-12-13</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><p><img src="/images/compiling.png" alt="My code is compiling" class="img-center" /></p>
<h2 id="ä»€ä¹ˆæ˜¯-Ninja"><a href="#ä»€ä¹ˆæ˜¯-Ninja" class="headerlink" title="ä»€ä¹ˆæ˜¯ Ninja"></a>ä»€ä¹ˆæ˜¯ Ninja</h2><p> åœ¨ Unix/Linux ä¸‹é€šå¸¸ä½¿ç”¨ Makefile æ¥æ§åˆ¶ä»£ç çš„ç¼–è¯‘ï¼Œä½†æ˜¯ Makefile å¯¹äºæ¯”è¾ƒå¤§çš„é¡¹ç›®æœ‰æ—¶å€™ä¼šæ¯”è¾ƒæ…¢ï¼Œçœ‹çœ‹ä¸Šé¢é‚£å‰¯æ¼«ç”»ï¼Œä»£ç åœ¨ç¼–è¯‘éƒ½å˜æˆäº†ç¨‹åºå‘˜æ”¾æ¾çš„å€Ÿå£äº†ã€‚æ‰€ä»¥è¿™ä¸ª Google çš„ç¨‹åºå‘˜åœ¨å¼€å‘ Chrome çš„æ—¶å€™å› ä¸ºå¿å—ä¸äº† Makefile çš„é€Ÿåº¦ï¼Œè‡ªå·±é‡æ–°å¼€å‘å‡ºæ¥ä¸€å¥—æ–°çš„æ§åˆ¶ç¼–è¯‘çš„å·¥å…·å«ä½œ<a target="_blank" rel="noopener" href="https://github.com/martine/ninja">Ninja</a>ï¼ŒNinja ç›¸å¯¹äº Makefile è¿™å¥—å·¥å…·æ›´æ³¨é‡äºç¼–è¯‘é€Ÿåº¦ã€‚é™¤äº† Chrome ç°åœ¨è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ¯”è¾ƒå¤§çš„é¡¹ç›®ä¹Ÿåœ¨å¼€å§‹ä½¿ç”¨ Ninjaï¼Œæ¯”å¦‚ LLVMã€‚æˆ‘è¯•ç”¨äº†ä¸€ä¸‹æ„Ÿè§‰è¿˜æ˜¯ä¸é”™ï¼Œæ¯”å¦‚ç¼–è¯‘ Cmake æ—¶é—´å¤§æ¦‚æ˜¯åŸæ¥çš„ 1/4ã€‚Ninja è¯•ç”¨ C++ å®ç°ï¼Œ<a target="_blank" rel="noopener" href="http://martine.github.com/ninja/manual.html">å…¶æ”¯æŒçš„è¯­æ³•éå¸¸ç®€å•</a>ï¼Œä½œè€…åœ¨è¿™é‡Œè¯´æ˜äº†ä¸ºäº†æ§åˆ¶å¤æ‚åº¦ã€‚</p>
<h2 id="ä»£ç å¦‚ä½•ç¼–è¯‘"><a href="#ä»£ç å¦‚ä½•ç¼–è¯‘" class="headerlink" title="ä»£ç å¦‚ä½•ç¼–è¯‘"></a>ä»£ç å¦‚ä½•ç¼–è¯‘</h2><p>å…¶å®å¯¹äº C/C++ å’Œå¾ˆå¤šå…¶ä»–ç¨‹åºçš„ç¼–è¯‘éƒ½æ˜¯ä¸€ä¸ªé“ç†ï¼Œå°±æ˜¯æŠŠä¸€äº›æºä»£ç æ–‡ä»¶ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ï¼Œæˆ–è€…æœ‰çš„ç›®æ ‡æ–‡ä»¶å†ç¼–è¯‘åˆ°ä¸€ä¸ªåº“é‡Œï¼Œç„¶åå†é“¾æ¥èµ·æ¥ã€‚æ‰€ä»¥ Ninja çš„é…ç½®æ–‡ä»¶åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œrule å’Œæ–‡ä»¶ä¾èµ–å…³ç³»ã€‚çœ‹ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">cc=gcc<br>cflags= -g -c<br><br>rule cc<br>     <span class="hljs-built_in">command</span> =  <span class="hljs-variable">$cc</span> <span class="hljs-variable">$cflags</span> <span class="hljs-variable">$in</span> -o <span class="hljs-variable">$out</span><br><br>rule <span class="hljs-built_in">link</span><br>     <span class="hljs-built_in">command</span> = <span class="hljs-variable">$cc</span> <span class="hljs-variable">$in</span> -o <span class="hljs-variable">$out</span><br><br>rule cleanup<br>     <span class="hljs-built_in">command</span> = <span class="hljs-built_in">rm</span> -rf *.exe *.o<br><br>build func.o           : cc func.c<br>build main.o           : cc main.c<br><br>build app.exe            : <span class="hljs-built_in">link</span> main.o func.o<br><br>build all:  phony || app.exe<br>build clean: cleanup <br></code></pre></td></tr></table></figure>
<p>éå¸¸æ˜“æ‡‚ï¼Œç¼–è¯‘çš„å¯æ‰§è¡Œæœªè§å«åš app.exeï¼Œå…¶ä¸­æœ‰ä¸‰æ¡ rule: cc, link, cleanupã€‚çœ‹çœ‹è¿™ä¸ªå®˜æ–¹çš„è¯•ç”¨æ‰‹å†Œï¼Œè¿˜æœ‰ä¸€äº›é™„åŠ å‚æ•°å¯ä»¥åŠ åœ¨ rule çš„ä¸‹é¢ï¼Œæ¯”å¦‚ description ç”¨æ¥åœ¨ç¼–è¯‘çš„æ—¶å€™æ˜¾ç¤ºå‡ºæ¥ã€‚Ninja è¿˜æœ‰ä¸ªæ¯”è¾ƒå¥½ç©çš„åŠŸèƒ½å°±æ˜¯ Ninja -t graph all å‘½ä»¤ï¼Œè¿™å¯ä»¥ç”¨æ¥ç”Ÿæˆç¼–è¯‘æ—¶å€™çš„ä¾èµ–å…³ç³»ï¼Œå¯ä»¥ç”¨ dot æ¥ç”Ÿæˆå›¾ç‰‡ç­‰ã€‚Ninja çš„å®ç°ä¹Ÿå¯ä»¥å¤§æ¦‚æ¨æµ‹åˆ°ï¼Œæ ¹æ®ç”¨æˆ·ç»™çš„ä¾èµ–å…³ç³»å›¾ï¼Œ_å¹¶è¡Œ_ åœ°ç¼–è¯‘å„ä¸ªæ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨ Ninja çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯éœ€è¦ç”Ÿæˆè¿™ä¸ª build.ninja æ–‡ä»¶ï¼Œå¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´è¿™æ ·ä¸€æ¡ä¸€æ¡åœ°å†™é…ç½®æ–‡ä»¶æ˜¯ä¸å¯èƒ½çš„ã€‚å¹¸å¥½æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Cmake æ¥ç”Ÿæˆè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ŒCmake å¯¹åº”çš„æ˜¯ automake è¿™æ ·çš„ä¸œè¥¿ã€‚åœ¨<a target="_blank" rel="noopener" href="http://www.kitware.com/news/home/browse/CMake?2012_11_07&amp;CMake+2.8.10+Just+Released">Cmake çš„æœ€æ–°ç‰ˆæœ¬</a>ä¸­å·²ç»æ”¯æŒå‚æ•° Camke -G Ninjaï¼ŒCmake ä¼šæ ¹æ®ç”¨æˆ·ç»™å®šçš„ CMakeLists.txt æ¥ç”Ÿæˆ build.ninja æ–‡ä»¶ã€‚è€Œ CmakeLists æ–‡ä»¶ç›¸å¯¹æ¥è¯´è¦ç®€å•ä¸€äº›ï¼Œåªè¦å†™æ¸…æ¥šç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶çš„åå­—ï¼Œå’Œå…¶ä¾èµ–çš„åŒ…å« main å‡½æ•°çš„æºæ–‡ä»¶ã€‚æŠŠæˆ‘çš„<a target="_blank" rel="noopener" href="https://github.com/chenyukang/Maze">è¿·å®«å°é¡¹ç›®</a>æ¥ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹å†™é…ç½®æ–‡ä»¶ CMakeLists.txt:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">cmake_minimum_required(VERSION 2.8)<br>project (Maze)<br><br>add_library(maze A_star.cpp Algorithm.cpp DFS_L.cpp DFS_R.cpp DisjSets.cpp Maze.cpp)<br><br>add_executable(Maze.exe main.cpp)<br>target_link_libraries(Maze.exe maze)<br><br></code></pre></td></tr></table></figure>
<p>add_library å†™æ˜äº†ç”Ÿæˆä¸€ä¸ªå«åš maze.a çš„åº“æ–‡ä»¶ï¼Œç„¶åå’Œ main.cpp ç¼–è¯‘å‡ºæ¥çš„ main.o ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå†™å¥½ CmakeList.txt åè¿è¡Œ Cmake -G Ninjaï¼Œç„¶åè¿è¡Œ ninja all å°±èƒ½ç¼–è¯‘è¿™ä¸ªå·¥ç¨‹ã€‚å…·ä½“çš„ Cmake è¯­æ³•å‚è€ƒ <a target="_blank" rel="noopener" href="http://www.cmake.org/cmake/help/cmake_tutorial.html">è¿™é‡Œ</a>ï¼Œå¯¹äºä¸å°‘é¡¹ç›®æ¥è¯´ Cmake å·²ç»è¶³å¤Ÿä½¿ç”¨ï¼Œåªæ˜¯æˆ‘è§‰å¾— Cmake è¿˜æ˜¯ç¨å¾®å¤æ‚äº†ä¸€ç‚¹ã€‚</p>
<h2 id="æˆ‘è¿™æ ·æ¥ä½¿ç”¨"><a href="#æˆ‘è¿™æ ·æ¥ä½¿ç”¨" class="headerlink" title="æˆ‘è¿™æ ·æ¥ä½¿ç”¨"></a>æˆ‘è¿™æ ·æ¥ä½¿ç”¨</h2><p> æ•´ä¸ª Ninja æ˜¯ä½¿ç”¨ C++ å†™çš„å¼€æºé¡¹ç›®ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¢åŠ ä¸€äº›è‡ªå·±çš„ feature å¯ä»¥ hack ä¸€ä¸‹ï¼Œä¸è¿‡ä½œè€…ä¼°è®¡ä¸ä¼šæ¥å—å¢åŠ è¯­æ³•æ”¯æŒçš„ patchã€‚æˆ‘å‡†å¤‡åšä¸€ä¸ªå°çš„ hack æ¥è‡ªåŠ¨åˆ†ææˆ‘å½“å‰çš„æºç ï¼Œè‡ªåŠ¨ç”Ÿæˆ build.ninja æ–‡ä»¶ï¼Œä¸è¦æ±‚å¤„ç†æ‰€æœ‰çš„å¤æ‚æƒ…å†µï¼Œåªæ˜¯åˆ†æ.cc å’Œ.cï¼Œè‡ªåŠ¨æ£€æµ‹ main å‡½æ•°æ–‡ä»¶ã€‚æœ€åç”¨æˆ·åªç”¨é…ç½®é“¾æ¥å‚æ•°å°±å¯ä»¥äº†ã€‚æˆ‘è§‰å¾—è¿™æ ·ç”¨èµ·æ¥å°±éå¸¸æ–¹ä¾¿äº†ï¼Œå¾…å®Œæˆä¸­ï¼Œé¡ºä¾¿çœ‹çœ‹ Ninja çš„å†…éƒ¨å®ç°ã€‚</p>
</section>

    <p></p>
    <!-- äºŒç»´ç  START -->
    
        <div class="qrcode">
            <img src="/images/wechat-qr-code.jpg" height="160" width="160">
            <figcaption>å…¬å·åŒæ­¥æ›´æ–°ï¼Œæ¬¢è¿å…³æ³¨ğŸ‘»</figcaption>
      </div>
    

    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#Ninja" >
    <span class="tag-code">Ninja</span>
  </a>

  <a href="/tags#makefile" >
    <span class="tag-code">makefile</span>
  </a>

      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2012/12/16/use-clang-autocomplete-mode.html">
        <span class="nav-arrow">â† </span>
        
          Clang is Making Emacs Smarter
        
      </a>
    
    
      <a class="nav-right" href="/2012/11/22/ruby-robot-ai.html">
        
          Ruby Robot AI
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->

    <!-- äºŒç»´ç  END -->
    
      <!-- No Comment -->
    

    <script src="https://utteranc.es/client.js"
      repo="chenyukang/chenyukang.github.io"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>

  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title"></strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Ninja"><span class="toc-nav-text">ä»€ä¹ˆæ˜¯ Ninja</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E4%BB%A3%E7%A0%81%E5%A6%82%E4%BD%95%E7%BC%96%E8%AF%91"><span class="toc-nav-text">ä»£ç å¦‚ä½•ç¼–è¯‘</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%88%91%E8%BF%99%E6%A0%B7%E6%9D%A5%E4%BD%BF%E7%94%A8"><span class="toc-nav-text">æˆ‘è¿™æ ·æ¥ä½¿ç”¨</span></a></li></ol>
    
  </div>
</aside>

  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://catcoding.me/2012/12/13/have-a-try-for-ninja.html';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer" id="footer">
    <p class="copyright">
        &copy;
        2022 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a> with <a target="_blank" rel="noopener" href="https://github.com/yanm1ng/hexo-theme-vexo">Vexo</a>
    </p>
</footer>

<script>
    function async(u, c) {
        var d = document,
            t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) {
            o.addEventListener('load', function(e) {
                c(null, e);
            }, false);
        }
        s.parentNode.insertBefore(o, s);
    }
</script>
<script>
    async("//catcoding.me/js/fastclick.min.js", function() {
        FastClick.attach(document.body);
    })
</script>

<script>
    var hasLine = 'false';
    async("//catcoding.me/js/highlight.min.js", function() {
        $('figure pre').each(function(i, block) {
            var figure = $(this).parents('figure');
            if (hasLine === 'false') {
                figure.find('.gutter').hide();
            }
            var lang = figure.attr('class').split(' ')[1] || 'code';
            var codeHtml = $(this).html();
            var codeTag = document.createElement('code');
            codeTag.className = lang;
            codeTag.innerHTML = codeHtml;
            $(this).attr('class', '').empty().html(codeTag);
            figure.attr('data-lang', lang.toUpperCase());
            hljs.highlightBlock(block);
        });
    })
</script>

<script src="/js/script.js"></script>

  </body>
</html>